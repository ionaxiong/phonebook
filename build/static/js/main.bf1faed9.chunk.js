(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(17),r=t.n(c),a=t(18),i=t(3),o=t(1),u=t(0),s=function(e){var n=e.filtering,t=e.handleFiltering;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{value:n,onChange:t})]})})},d=function(e){var n=e.newName,t=e.newNumber,c=e.handleNewName,r=e.handleNewNumber,a=e.addInfo;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:n,onChange:c})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:t,onChange:r})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",onClick:function(e){return a(e)},children:"add"})})]})})},l=function(e){var n=e.persons,t=e.filtering,c=e.handleDeletePerson;return Object(u.jsx)(u.Fragment,{children:""===t?n.map((function(e){return Object(u.jsxs)("p",{children:[e.name," ",e.number,Object(u.jsx)("button",{type:"submit",onClick:function(){return c(e.id)},children:"delete"})]},e.name)})):n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(u.jsxs)("p",{children:[e.name," ",e.number,Object(u.jsx)("button",{type:"submit",onClick:function(){return c(e.id)},children:"delete"})]},e.name)}))})},j=t(5),b=t.n(j),f="/api/persons",h=function(){return b.a.get(f).then((function(e){return e.data}))},m=function(e){return b.a.post(f,e).then((function(e){return e.data}))},O=function(e,n){return b.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))},g=function(e){return b.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},v=(t(16),function(e){var n=e.message;return""===n?null:Object(u.jsx)("div",{className:"message",children:n})}),x=function(e){var n=e.warning;return""===n?null:Object(u.jsx)("div",{className:"warning",children:n})},p=function(){var e=Object(o.useState)([{name:"",number:""}]),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(""),j=Object(i.a)(r,2),b=j[0],f=j[1],p=Object(o.useState)(""),w=Object(i.a)(p,2),N=w[0],k=w[1],C=Object(o.useState)(""),y=Object(i.a)(C,2),F=y[0],S=y[1],D=Object(o.useState)(""),I=Object(i.a)(D,2),P=I[0],T=I[1],E=Object(o.useState)(""),J=Object(i.a)(E,2),L=J[0],A=J[1];Object(o.useEffect)((function(){h().then((function(e){c(e)})).catch((function(e){return console.log(e)}))}),[]);var B=function(e){e.preventDefault();var n,r={name:b,number:N},i=t.find((function(e){return e.name===b}));if(i){if(window.confirm("".concat(b," is already added to phonebook, replace the old number with a new one?"))){i.number=N;var o=Object(a.a)(t);o.map((function(e){return e.name===b&&(e.number=N),e})),T("".concat(b,"'s number is changed")),setTimeout((function(){T("")}),5e3),c(o),n=i.id,O(n,i)}}else m(r).then((function(e){c(t.concat(e)),T("Added ".concat(e.name)),setTimeout((function(){T("")}),5e3),f(""),k("")})).catch((function(e){return console.log(e)}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(v,{message:P}),Object(u.jsx)(x,{warning:L}),Object(u.jsx)(s,{filtering:F,handleFiltering:function(e){S(e.target.value)}}),Object(u.jsx)("h2",{children:"add a new"}),Object(u.jsx)(d,{newName:b,handleNewName:function(e){var n=e.target.value;f(n)},newNumber:N,handleNewNumber:function(e){var n=e.target.value;k(n)},addInfo:function(e){return B(e)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(l,{persons:t,filtering:F,handleDeletePerson:function(e){var n=t.find((function(n){return n.id===e})).name;window.confirm("Delete ".concat(n," ?"))&&g(e).then(c(t.filter((function(n){return n.id!==e})))).catch((function(e){A("Information of ".concat(n," has already been removed from server")),setTimeout((function(){A("")}),5e3),console.log(e)}))}})]})};r.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.bf1faed9.chunk.js.map